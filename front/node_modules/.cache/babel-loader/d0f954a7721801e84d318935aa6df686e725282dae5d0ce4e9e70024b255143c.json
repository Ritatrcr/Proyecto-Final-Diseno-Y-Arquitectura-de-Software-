{"ast":null,"code":"var _jsxFileName = \"/Users/ritatrindadedacruz/Desktop/Universidad/Quinto Semestre/Arqui/Proyecto 3/Proyecto-Final-Diseno-Y-Arquitectura-de-Software-/front/src/pages/Refunds.js\",\n  _s = $RefreshSig$();\n// src/pages/Refunds.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Container, Typography, Box, TextField, Button, Alert, List, ListItem, ListItemText } from '@mui/material';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Refunds = () => {\n  _s();\n  const {\n    token\n  } = useContext(AuthContext);\n  const [refunds, setRefunds] = useState([]);\n  const [form, setForm] = useState({\n    payment_id: '',\n    amount: '',\n    reason: ''\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const fetchRefunds = async () => {\n    try {\n      const res = await axios.get('http://localhost:3000/refunds', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setRefunds(res.data);\n    } catch (err) {\n      setError('Error al obtener reembolsos');\n    }\n  };\n  useEffect(() => {\n    fetchRefunds();\n    // eslint-disable-next-line\n  }, []);\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    try {\n      await axios.post('http://localhost:3000/refunds', form, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSuccess('Reembolso solicitado exitosamente');\n      fetchRefunds();\n      setForm({\n        payment_id: '',\n        amount: '',\n        reason: ''\n      });\n    } catch (err) {\n      setError('Error al solicitar reembolso');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: \"Reembolsos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 2\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"ID de Pago\",\n        name: \"payment_id\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: form.payment_id,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Monto\",\n        name: \"amount\",\n        type: \"number\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: form.amount,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Raz\\xF3n\",\n        name: \"reason\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: form.reason,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        sx: {\n          mt: 2\n        },\n        children: \"Solicitar Reembolso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Lista de Reembolsos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: refunds.map(r => /*#__PURE__*/_jsxDEV(ListItem, {\n        component: Link,\n        to: `/refunds/${r.refund_id}`,\n        button: true,\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: `Pago: ${r.payment_id} - ${r.status}`,\n          secondary: r.reason\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, r.refund_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Refunds, \"3nUi3B6pqFIAMZBrvZSqdIH7dY8=\");\n_c = Refunds;\nexport default Refunds;\nvar _c;\n$RefreshReg$(_c, \"Refunds\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Container","Typography","Box","TextField","Button","Alert","List","ListItem","ListItemText","axios","AuthContext","Link","jsxDEV","_jsxDEV","Refunds","_s","token","refunds","setRefunds","form","setForm","payment_id","amount","reason","error","setError","success","setSuccess","fetchRefunds","res","get","headers","Authorization","data","err","handleChange","e","target","name","value","handleSubmit","preventDefault","post","maxWidth","sx","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","component","onSubmit","label","fullWidth","margin","onChange","required","type","map","r","to","refund_id","button","primary","status","secondary","_c","$RefreshReg$"],"sources":["/Users/ritatrindadedacruz/Desktop/Universidad/Quinto Semestre/Arqui/Proyecto 3/Proyecto-Final-Diseno-Y-Arquitectura-de-Software-/front/src/pages/Refunds.js"],"sourcesContent":["// src/pages/Refunds.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Container, Typography, Box, TextField, Button, Alert, List, ListItem, ListItemText } from '@mui/material';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { Link } from 'react-router-dom';\n\nconst Refunds = () => {\n  const { token } = useContext(AuthContext);\n  const [refunds, setRefunds] = useState([]);\n  const [form, setForm] = useState({\n    payment_id: '',\n    amount: '',\n    reason: ''\n  });\n  const [error, setError]   = useState('');\n  const [success, setSuccess] = useState('');\n\n  const fetchRefunds = async () => {\n    try {\n      const res = await axios.get('http://localhost:3000/refunds', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setRefunds(res.data);\n    } catch (err) {\n      setError('Error al obtener reembolsos');\n    }\n  };\n\n  useEffect(() => {\n    fetchRefunds();\n    // eslint-disable-next-line\n  }, []);\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    try {\n      await axios.post('http://localhost:3000/refunds', form, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setSuccess('Reembolso solicitado exitosamente');\n      fetchRefunds();\n      setForm({ payment_id: '', amount: '', reason: '' });\n    } catch (err) {\n      setError('Error al solicitar reembolso');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 4 }}>\n      <Typography variant=\"h5\" gutterBottom>Reembolsos</Typography>\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>{success}</Alert>}\n\n      <Box component=\"form\" onSubmit={handleSubmit} sx={{ mb: 4 }}>\n        <TextField\n          label=\"ID de Pago\"\n          name=\"payment_id\"\n          fullWidth\n          margin=\"normal\"\n          value={form.payment_id}\n          onChange={handleChange}\n          required\n        />\n        <TextField\n          label=\"Monto\"\n          name=\"amount\"\n          type=\"number\"\n          fullWidth\n          margin=\"normal\"\n          value={form.amount}\n          onChange={handleChange}\n          required\n        />\n        <TextField\n          label=\"RazÃ³n\"\n          name=\"reason\"\n          fullWidth\n          margin=\"normal\"\n          value={form.reason}\n          onChange={handleChange}\n          required\n        />\n        <Button variant=\"contained\" type=\"submit\" sx={{ mt: 2 }}>Solicitar Reembolso</Button>\n      </Box>\n\n      <Typography variant=\"h6\" gutterBottom>Lista de Reembolsos</Typography>\n      <List>\n        {refunds.map((r) => (\n          <ListItem\n            key={r.refund_id}\n            component={Link}\n            to={`/refunds/${r.refund_id}`}\n            button\n          >\n            <ListItemText\n              primary={`Pago: ${r.payment_id} - ${r.status}`}\n              secondary={r.reason}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </Container>\n  );\n};\n\nexport default Refunds;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,SAAS,EAAEC,UAAU,EAAEC,GAAG,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,YAAY,QAAQ,eAAe;AAClH,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,wBAAwB;AACpD,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM;IAAEC;EAAM,CAAC,GAAGjB,UAAU,CAACW,WAAW,CAAC;EACzC,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACsB,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC;IAC/BwB,UAAU,EAAE,EAAE;IACdC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE;EACV,CAAC,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAK5B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC6B,OAAO,EAAEC,UAAU,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAM+B,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMpB,KAAK,CAACqB,GAAG,CAAC,+BAA+B,EAAE;QAC3DC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUhB,KAAK;QAAG;MAC9C,CAAC,CAAC;MACFE,UAAU,CAACW,GAAG,CAACI,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZT,QAAQ,CAAC,6BAA6B,CAAC;IACzC;EACF,CAAC;EAED3B,SAAS,CAAC,MAAM;IACd8B,YAAY,CAAC,CAAC;IACd;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,YAAY,GAAIC,CAAC,IAAK;IAC1BhB,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAE,CAACiB,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC;EACvD,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAChCA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClBhB,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,EAAE,CAAC;IACd,IAAI;MACF,MAAMlB,KAAK,CAACiC,IAAI,CAAC,+BAA+B,EAAEvB,IAAI,EAAE;QACtDY,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUhB,KAAK;QAAG;MAC9C,CAAC,CAAC;MACFW,UAAU,CAAC,mCAAmC,CAAC;MAC/CC,YAAY,CAAC,CAAC;MACdR,OAAO,CAAC;QAAEC,UAAU,EAAE,EAAE;QAAEC,MAAM,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAG,CAAC,CAAC;IACrD,CAAC,CAAC,OAAOW,GAAG,EAAE;MACZT,QAAQ,CAAC,8BAA8B,CAAC;IAC1C;EACF,CAAC;EAED,oBACEZ,OAAA,CAACb,SAAS;IAAC2C,QAAQ,EAAC,IAAI;IAACC,EAAE,EAAE;MAAEC,EAAE,EAAE;IAAE,CAAE;IAAAC,QAAA,gBACrCjC,OAAA,CAACZ,UAAU;MAAC8C,OAAO,EAAC,IAAI;MAACC,YAAY;MAAAF,QAAA,EAAC;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,EAC5D5B,KAAK,iBAAIX,OAAA,CAACR,KAAK;MAACgD,QAAQ,EAAC,OAAO;MAACT,EAAE,EAAE;QAAEU,EAAE,EAAE;MAAE,CAAE;MAAAR,QAAA,EAAEtB;IAAK;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAC/D1B,OAAO,iBAAIb,OAAA,CAACR,KAAK;MAACgD,QAAQ,EAAC,SAAS;MAACT,EAAE,EAAE;QAAEU,EAAE,EAAE;MAAE,CAAE;MAAAR,QAAA,EAAEpB;IAAO;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEtEvC,OAAA,CAACX,GAAG;MAACqD,SAAS,EAAC,MAAM;MAACC,QAAQ,EAAEhB,YAAa;MAACI,EAAE,EAAE;QAAEU,EAAE,EAAE;MAAE,CAAE;MAAAR,QAAA,gBAC1DjC,OAAA,CAACV,SAAS;QACRsD,KAAK,EAAC,YAAY;QAClBnB,IAAI,EAAC,YAAY;QACjBoB,SAAS;QACTC,MAAM,EAAC,QAAQ;QACfpB,KAAK,EAAEpB,IAAI,CAACE,UAAW;QACvBuC,QAAQ,EAAEzB,YAAa;QACvB0B,QAAQ;MAAA;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFvC,OAAA,CAACV,SAAS;QACRsD,KAAK,EAAC,OAAO;QACbnB,IAAI,EAAC,QAAQ;QACbwB,IAAI,EAAC,QAAQ;QACbJ,SAAS;QACTC,MAAM,EAAC,QAAQ;QACfpB,KAAK,EAAEpB,IAAI,CAACG,MAAO;QACnBsC,QAAQ,EAAEzB,YAAa;QACvB0B,QAAQ;MAAA;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFvC,OAAA,CAACV,SAAS;QACRsD,KAAK,EAAC,UAAO;QACbnB,IAAI,EAAC,QAAQ;QACboB,SAAS;QACTC,MAAM,EAAC,QAAQ;QACfpB,KAAK,EAAEpB,IAAI,CAACI,MAAO;QACnBqC,QAAQ,EAAEzB,YAAa;QACvB0B,QAAQ;MAAA;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFvC,OAAA,CAACT,MAAM;QAAC2C,OAAO,EAAC,WAAW;QAACe,IAAI,EAAC,QAAQ;QAAClB,EAAE,EAAE;UAAEC,EAAE,EAAE;QAAE,CAAE;QAAAC,QAAA,EAAC;MAAmB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClF,CAAC,eAENvC,OAAA,CAACZ,UAAU;MAAC8C,OAAO,EAAC,IAAI;MAACC,YAAY;MAAAF,QAAA,EAAC;IAAmB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eACtEvC,OAAA,CAACP,IAAI;MAAAwC,QAAA,EACF7B,OAAO,CAAC8C,GAAG,CAAEC,CAAC,iBACbnD,OAAA,CAACN,QAAQ;QAEPgD,SAAS,EAAE5C,IAAK;QAChBsD,EAAE,EAAE,YAAYD,CAAC,CAACE,SAAS,EAAG;QAC9BC,MAAM;QAAArB,QAAA,eAENjC,OAAA,CAACL,YAAY;UACX4D,OAAO,EAAE,SAASJ,CAAC,CAAC3C,UAAU,MAAM2C,CAAC,CAACK,MAAM,EAAG;UAC/CC,SAAS,EAAEN,CAAC,CAACzC;QAAO;UAAA0B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB;MAAC,GARGY,CAAC,CAACE,SAAS;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASR,CACX;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB,CAAC;AAACrC,EAAA,CAvGID,OAAO;AAAAyD,EAAA,GAAPzD,OAAO;AAyGb,eAAeA,OAAO;AAAC,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}